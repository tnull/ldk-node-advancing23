<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The top-level routing/network map tracking logic lives here."><meta name="keywords" content="rust, rustlang, rust-lang, router"><title>lightning::routing::router - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../../normalize.css"><link rel="stylesheet" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../../ayu.css" disabled><link rel="stylesheet" href="../../../dark.css" disabled><link rel="stylesheet" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script defer src="../../../main.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../lightning/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../../lightning/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module router</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../lightning/index.html"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Module <a href="../../index.html">lightning</a>::<wbr><a href="../index.html">routing</a>::<wbr><a class="mod" href="#">router</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../src/lightning/routing/router.rs.html#10-5791">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The top-level routing/network map tracking logic lives here.</p>
<p>You probably want to create a P2PGossipSync and use that as your RoutingMessageHandler and then
interrogate it to get routes for your own payments.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DefaultRouter.html" title="lightning::routing::router::DefaultRouter struct">DefaultRouter</a></div><div class="item-right docblock-short">A <a href="trait.Router.html" title="Router"><code>Router</code></a> implemented using <a href="fn.find_route.html" title="find_route"><code>find_route</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.InFlightHtlcs.html" title="lightning::routing::router::InFlightHtlcs struct">InFlightHtlcs</a></div><div class="item-right docblock-short">A data structure for tracking in-flight HTLCs. May be used during pathfinding to account for
in-use channel liquidity.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PaymentParameters.html" title="lightning::routing::router::PaymentParameters struct">PaymentParameters</a></div><div class="item-right docblock-short">The recipient of a payment.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Route.html" title="lightning::routing::router::Route struct">Route</a></div><div class="item-right docblock-short">A route directs a payment from the sender (us) to the recipient. If the recipient supports MPP,
it can take multiple paths. Each path is composed of one or more hops through the network.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RouteHint.html" title="lightning::routing::router::RouteHint struct">RouteHint</a></div><div class="item-right docblock-short">A list of hops along a payment path terminating with a channel to the recipient.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RouteHintHop.html" title="lightning::routing::router::RouteHintHop struct">RouteHintHop</a></div><div class="item-right docblock-short">A channel descriptor for a hop along a payment path.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RouteHop.html" title="lightning::routing::router::RouteHop struct">RouteHop</a></div><div class="item-right docblock-short">A hop in a route</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RouteParameters.html" title="lightning::routing::router::RouteParameters struct">RouteParameters</a></div><div class="item-right docblock-short">Parameters needed to find a <a href="struct.Route.html" title="Route"><code>Route</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ScorerAccountingForInFlightHtlcs.html" title="lightning::routing::router::ScorerAccountingForInFlightHtlcs struct">ScorerAccountingForInFlightHtlcs</a></div><div class="item-right docblock-short"><a href="../scoring/trait.Score.html"><code>Score</code></a> implementation that factors in in-flight HTLC liquidity.</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.DEFAULT_MAX_PATH_COUNT.html" title="lightning::routing::router::DEFAULT_MAX_PATH_COUNT constant">DEFAULT_MAX_PATH_COUNT</a></div><div class="item-right docblock-short">Maximum number of paths we allow an (MPP) payment to have.</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.DEFAULT_MAX_TOTAL_CLTV_EXPIRY_DELTA.html" title="lightning::routing::router::DEFAULT_MAX_TOTAL_CLTV_EXPIRY_DELTA constant">DEFAULT_MAX_TOTAL_CLTV_EXPIRY_DELTA</a></div><div class="item-right docblock-short">Maximum total CTLV difference we allow for a full payment path.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Router.html" title="lightning::routing::router::Router trait">Router</a></div><div class="item-right docblock-short">A trait defining behavior for routing a payment.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.build_route_from_hops.html" title="lightning::routing::router::build_route_from_hops fn">build_route_from_hops</a></div><div class="item-right docblock-short">Construct a route from us (payer) to the target node (payee) via the given hops (which should
exclude the payer, but include the payee). This may be useful, e.g., for probing the chosen path.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_route.html" title="lightning::routing::router::find_route fn">find_route</a></div><div class="item-right docblock-short">Finds a route from us (payer) to the given target node (payee).</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="lightning" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0 (897e37553 2022-11-02)" ></div></body></html>