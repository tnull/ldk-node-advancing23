<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A trait to describe an object which can receive routing messages."><meta name="keywords" content="rust, rustlang, rust-lang, RoutingMessageHandler"><title>RoutingMessageHandler in lightning::ln::msgs - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../../normalize.css"><link rel="stylesheet" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../../ayu.css" disabled><link rel="stylesheet" href="../../../dark.css" disabled><link rel="stylesheet" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../main.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../lightning/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../../lightning/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">RoutingMessageHandler</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><ul><li><a href="#tymethod.get_next_channel_announcement">get_next_channel_announcement</a></li><li><a href="#tymethod.get_next_node_announcement">get_next_node_announcement</a></li><li><a href="#tymethod.handle_channel_announcement">handle_channel_announcement</a></li><li><a href="#tymethod.handle_channel_update">handle_channel_update</a></li><li><a href="#tymethod.handle_node_announcement">handle_node_announcement</a></li><li><a href="#tymethod.handle_query_channel_range">handle_query_channel_range</a></li><li><a href="#tymethod.handle_query_short_channel_ids">handle_query_short_channel_ids</a></li><li><a href="#tymethod.handle_reply_channel_range">handle_reply_channel_range</a></li><li><a href="#tymethod.handle_reply_short_channel_ids_end">handle_reply_short_channel_ids_end</a></li><li><a href="#tymethod.peer_connected">peer_connected</a></li><li><a href="#tymethod.provided_init_features">provided_init_features</a></li><li><a href="#tymethod.provided_node_features">provided_node_features</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div></section><h2 class="location"><a href="index.html">In lightning::ln::msgs</a></h2></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../lightning/index.html"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Trait <a href="../../index.html">lightning</a>::<wbr><a href="../index.html">ln</a>::<wbr><a href="index.html">msgs</a>::<wbr><a class="trait" href="#">RoutingMessageHandler</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../src/lightning/ln/msgs.rs.html#1040-1094">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust trait"><code>pub trait RoutingMessageHandler: <a class="trait" href="../../util/events/trait.MessageSendEventsProvider.html" title="trait lightning::util::events::MessageSendEventsProvider">MessageSendEventsProvider</a> {
    fn <a href="#tymethod.handle_node_announcement" class="fnname">handle_node_announcement</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg: &amp;<a class="struct" href="struct.NodeAnnouncement.html" title="struct lightning::ln::msgs::NodeAnnouncement">NodeAnnouncement</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.bool.html">bool</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.handle_channel_announcement" class="fnname">handle_channel_announcement</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg: &amp;<a class="struct" href="struct.ChannelAnnouncement.html" title="struct lightning::ln::msgs::ChannelAnnouncement">ChannelAnnouncement</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.bool.html">bool</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.handle_channel_update" class="fnname">handle_channel_update</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg: &amp;<a class="struct" href="struct.ChannelUpdate.html" title="struct lightning::ln::msgs::ChannelUpdate">ChannelUpdate</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.bool.html">bool</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_next_channel_announcement" class="fnname">get_next_channel_announcement</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;starting_point: <a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.u64.html">u64</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="struct.ChannelAnnouncement.html" title="struct lightning::ln::msgs::ChannelAnnouncement">ChannelAnnouncement</a>, <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.ChannelUpdate.html" title="struct lightning::ln::msgs::ChannelUpdate">ChannelUpdate</a>&gt;, <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.ChannelUpdate.html" title="struct lightning::ln::msgs::ChannelUpdate">ChannelUpdate</a>&gt;)&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_next_node_announcement" class="fnname">get_next_node_announcement</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;starting_point: <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.NodeAnnouncement.html" title="struct lightning::ln::msgs::NodeAnnouncement">NodeAnnouncement</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.peer_connected" class="fnname">peer_connected</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;their_node_id: &amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init: &amp;<a class="struct" href="struct.Init.html" title="struct lightning::ln::msgs::Init">Init</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.unit.html">()</a>, <a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.unit.html">()</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.handle_reply_channel_range" class="fnname">handle_reply_channel_range</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;their_node_id: &amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg: <a class="struct" href="struct.ReplyChannelRange.html" title="struct lightning::ln::msgs::ReplyChannelRange">ReplyChannelRange</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.handle_reply_short_channel_ids_end" class="fnname">handle_reply_short_channel_ids_end</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;their_node_id: &amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg: <a class="struct" href="struct.ReplyShortChannelIdsEnd.html" title="struct lightning::ln::msgs::ReplyShortChannelIdsEnd">ReplyShortChannelIdsEnd</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.handle_query_channel_range" class="fnname">handle_query_channel_range</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;their_node_id: &amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg: <a class="struct" href="struct.QueryChannelRange.html" title="struct lightning::ln::msgs::QueryChannelRange">QueryChannelRange</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.handle_query_short_channel_ids" class="fnname">handle_query_short_channel_ids</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;their_node_id: &amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg: <a class="struct" href="struct.QueryShortChannelIds.html" title="struct lightning::ln::msgs::QueryShortChannelIds">QueryShortChannelIds</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.provided_node_features" class="fnname">provided_node_features</a>(&amp;self) -&gt; <a class="type" href="../features/type.NodeFeatures.html" title="type lightning::ln::features::NodeFeatures">NodeFeatures</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.provided_init_features" class="fnname">provided_init_features</a>(&amp;self, their_node_id: &amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>) -&gt; <a class="type" href="../features/type.InitFeatures.html" title="type lightning::ln::features::InitFeatures">InitFeatures</a>;
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A trait to describe an object which can receive routing messages.</p>
<h2 id="implementor-dos-warnings"><a href="#implementor-dos-warnings">Implementor DoS Warnings</a></h2>
<p>For messages enabled with the <code>gossip_queries</code> feature there are potential DoS vectors when
handling inbound queries. Implementors using an on-disk network graph should be aware of
repeated disk I/O for queries accessing different parts of the network graph.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.handle_node_announcement" class="method has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/msgs.rs.html#1043">source</a><h4 class="code-header">fn <a href="#tymethod.handle_node_announcement" class="fnname">handle_node_announcement</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;msg: &amp;<a class="struct" href="struct.NodeAnnouncement.html" title="struct lightning::ln::msgs::NodeAnnouncement">NodeAnnouncement</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.bool.html">bool</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;</h4></div></summary><div class="docblock"><p>Handle an incoming <code>node_announcement</code> message, returning <code>true</code> if it should be forwarded on,
<code>false</code> or returning an <code>Err</code> otherwise.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.handle_channel_announcement" class="method has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/msgs.rs.html#1046">source</a><h4 class="code-header">fn <a href="#tymethod.handle_channel_announcement" class="fnname">handle_channel_announcement</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;msg: &amp;<a class="struct" href="struct.ChannelAnnouncement.html" title="struct lightning::ln::msgs::ChannelAnnouncement">ChannelAnnouncement</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.bool.html">bool</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;</h4></div></summary><div class="docblock"><p>Handle a <code>channel_announcement</code> message, returning <code>true</code> if it should be forwarded on, <code>false</code>
or returning an <code>Err</code> otherwise.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.handle_channel_update" class="method has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/msgs.rs.html#1049">source</a><h4 class="code-header">fn <a href="#tymethod.handle_channel_update" class="fnname">handle_channel_update</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;msg: &amp;<a class="struct" href="struct.ChannelUpdate.html" title="struct lightning::ln::msgs::ChannelUpdate">ChannelUpdate</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.bool.html">bool</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;</h4></div></summary><div class="docblock"><p>Handle an incoming <code>channel_update</code> message, returning true if it should be forwarded on,
<code>false</code> or returning an <code>Err</code> otherwise.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_next_channel_announcement" class="method has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/msgs.rs.html#1053">source</a><h4 class="code-header">fn <a href="#tymethod.get_next_channel_announcement" class="fnname">get_next_channel_announcement</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;starting_point: <a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.u64.html">u64</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="struct.ChannelAnnouncement.html" title="struct lightning::ln::msgs::ChannelAnnouncement">ChannelAnnouncement</a>, <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.ChannelUpdate.html" title="struct lightning::ln::msgs::ChannelUpdate">ChannelUpdate</a>&gt;, <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.ChannelUpdate.html" title="struct lightning::ln::msgs::ChannelUpdate">ChannelUpdate</a>&gt;)&gt;</h4></div></summary><div class="docblock"><p>Gets channel announcements and updates required to dump our routing table to a remote node,
starting at the <code>short_channel_id</code> indicated by <code>starting_point</code> and including announcements
for a single channel.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_next_node_announcement" class="method has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/msgs.rs.html#1058">source</a><h4 class="code-header">fn <a href="#tymethod.get_next_node_announcement" class="fnname">get_next_node_announcement</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;starting_point: <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.NodeAnnouncement.html" title="struct lightning::ln::msgs::NodeAnnouncement">NodeAnnouncement</a>&gt;</h4></div></summary><div class="docblock"><p>Gets a node announcement required to dump our routing table to a remote node, starting at
the node <em>after</em> the provided pubkey and including up to one announcement immediately
higher (as defined by <code>&lt;PublicKey as Ord&gt;::cmp</code>) than <code>starting_point</code>.
If <code>None</code> is provided for <code>starting_point</code>, we start at the first node.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.peer_connected" class="method has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/msgs.rs.html#1066">source</a><h4 class="code-header">fn <a href="#tymethod.peer_connected" class="fnname">peer_connected</a>(&amp;self, their_node_id: &amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>, init: &amp;<a class="struct" href="struct.Init.html" title="struct lightning::ln::msgs::Init">Init</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.unit.html">()</a>, <a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock"><p>Called when a connection is established with a peer. This can be used to
perform routing table synchronization using a strategy defined by the
implementor.</p>
<p>May return an <code>Err(())</code> if the features the peer supports are not sufficient to communicate
with us. Implementors should be somewhat conservative about doing so, however, as other
message handlers may still wish to communicate with this peer.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.handle_reply_channel_range" class="method has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/msgs.rs.html#1070">source</a><h4 class="code-header">fn <a href="#tymethod.handle_reply_channel_range" class="fnname">handle_reply_channel_range</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;their_node_id: &amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;msg: <a class="struct" href="struct.ReplyChannelRange.html" title="struct lightning::ln::msgs::ReplyChannelRange">ReplyChannelRange</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;</h4></div></summary><div class="docblock"><p>Handles the reply of a query we initiated to learn about channels
for a given range of blocks. We can expect to receive one or more
replies to a single query.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.handle_reply_short_channel_ids_end" class="method has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/msgs.rs.html#1075">source</a><h4 class="code-header">fn <a href="#tymethod.handle_reply_short_channel_ids_end" class="fnname">handle_reply_short_channel_ids_end</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;their_node_id: &amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;msg: <a class="struct" href="struct.ReplyShortChannelIdsEnd.html" title="struct lightning::ln::msgs::ReplyShortChannelIdsEnd">ReplyShortChannelIdsEnd</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;</h4></div></summary><div class="docblock"><p>Handles the reply of a query we initiated asking for routing gossip
messages for a list of channels. We should receive this message when
a node has completed its best effort to send us the pertaining routing
gossip messages.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.handle_query_channel_range" class="method has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/msgs.rs.html#1078">source</a><h4 class="code-header">fn <a href="#tymethod.handle_query_channel_range" class="fnname">handle_query_channel_range</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;their_node_id: &amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;msg: <a class="struct" href="struct.QueryChannelRange.html" title="struct lightning::ln::msgs::QueryChannelRange">QueryChannelRange</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;</h4></div></summary><div class="docblock"><p>Handles when a peer asks us to send a list of <code>short_channel_id</code>s
for the requested range of blocks.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.handle_query_short_channel_ids" class="method has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/msgs.rs.html#1081">source</a><h4 class="code-header">fn <a href="#tymethod.handle_query_short_channel_ids" class="fnname">handle_query_short_channel_ids</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;their_node_id: &amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;msg: <a class="struct" href="struct.QueryShortChannelIds.html" title="struct lightning::ln::msgs::QueryShortChannelIds">QueryShortChannelIds</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.65.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.65.0/std/primitive.unit.html">()</a>, <a class="struct" href="struct.LightningError.html" title="struct lightning::ln::msgs::LightningError">LightningError</a>&gt;</h4></div></summary><div class="docblock"><p>Handles when a peer asks us to send routing gossip messages for a
list of <code>short_channel_id</code>s.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.provided_node_features" class="method has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/msgs.rs.html#1087">source</a><h4 class="code-header">fn <a href="#tymethod.provided_node_features" class="fnname">provided_node_features</a>(&amp;self) -&gt; <a class="type" href="../features/type.NodeFeatures.html" title="type lightning::ln::features::NodeFeatures">NodeFeatures</a></h4></div></summary><div class="docblock"><p>Gets the node feature flags which this handler itself supports. All available handlers are
queried similarly and their feature flags are OR’d together to form the <a href="../features/type.NodeFeatures.html" title="NodeFeatures"><code>NodeFeatures</code></a>
which are broadcasted in our <a href="struct.NodeAnnouncement.html" title="NodeAnnouncement"><code>NodeAnnouncement</code></a> message.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.provided_init_features" class="method has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/msgs.rs.html#1093">source</a><h4 class="code-header">fn <a href="#tymethod.provided_init_features" class="fnname">provided_init_features</a>(&amp;self, their_node_id: &amp;<a class="struct" href="../../../secp256k1/key/struct.PublicKey.html" title="struct secp256k1::key::PublicKey">PublicKey</a>) -&gt; <a class="type" href="../features/type.InitFeatures.html" title="type lightning::ln::features::InitFeatures">InitFeatures</a></h4></div></summary><div class="docblock"><p>Gets the init feature flags which should be sent to the given peer. All available handlers
are queried similarly and their feature flags are OR’d together to form the <a href="../features/type.InitFeatures.html" title="InitFeatures"><code>InitFeatures</code></a>
which are sent in our <a href="struct.Init.html" title="Init"><code>Init</code></a> message.</p>
<p>Note that this method is called before <a href="trait.RoutingMessageHandler.html#tymethod.peer_connected" title="Self::peer_connected"><code>Self::peer_connected</code></a>.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><section id="impl-RoutingMessageHandler-for-IgnoringMessageHandler" class="impl has-srclink"><a class="srclink rightside" href="../../../src/lightning/ln/peer_handler.rs.html#68-84">source</a><a href="#impl-RoutingMessageHandler-for-IgnoringMessageHandler" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.RoutingMessageHandler.html" title="trait lightning::ln::msgs::RoutingMessageHandler">RoutingMessageHandler</a> for <a class="struct" href="../peer_handler/struct.IgnoringMessageHandler.html" title="struct lightning::ln::peer_handler::IgnoringMessageHandler">IgnoringMessageHandler</a></h3></section><section id="impl-RoutingMessageHandler-for-P2PGossipSync%3CG%2C%20C%2C%20L%3E" class="impl has-srclink"><a class="srclink rightside" href="../../../src/lightning/routing/gossip.rs.html#329-617">source</a><a href="#impl-RoutingMessageHandler-for-P2PGossipSync%3CG%2C%20C%2C%20L%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;G:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.65.0/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&lt;Target = <a class="struct" href="../../routing/gossip/struct.NetworkGraph.html" title="struct lightning::routing::gossip::NetworkGraph">NetworkGraph</a>&lt;L&gt;&gt;, C:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.65.0/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>, L:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.65.0/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&gt; <a class="trait" href="trait.RoutingMessageHandler.html" title="trait lightning::ln::msgs::RoutingMessageHandler">RoutingMessageHandler</a> for <a class="struct" href="../../routing/gossip/struct.P2PGossipSync.html" title="struct lightning::routing::gossip::P2PGossipSync">P2PGossipSync</a>&lt;G, C, L&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C::<a class="associatedtype" href="https://doc.rust-lang.org/1.65.0/core/ops/deref/trait.Deref.html#associatedtype.Target" title="type core::ops::deref::Deref::Target">Target</a>: <a class="trait" href="../../chain/trait.Access.html" title="trait lightning::chain::Access">Access</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;L::<a class="associatedtype" href="https://doc.rust-lang.org/1.65.0/core/ops/deref/trait.Deref.html#associatedtype.Target" title="type core::ops::deref::Deref::Target">Target</a>: <a class="trait" href="../../util/logger/trait.Logger.html" title="trait lightning::util::logger::Logger">Logger</a>,</span></h3></section></div><script src="../../../implementors/lightning/ln/msgs/trait.RoutingMessageHandler.js" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="lightning" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0 (897e37553 2022-11-02)" ></div></body></html>