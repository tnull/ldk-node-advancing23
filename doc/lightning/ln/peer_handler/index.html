<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Top level peer message handling and socket handling logic lives here."><meta name="keywords" content="rust, rustlang, rust-lang, peer_handler"><title>lightning::ln::peer_handler - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../../normalize.css"><link rel="stylesheet" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../../ayu.css" disabled><link rel="stylesheet" href="../../../dark.css" disabled><link rel="stylesheet" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script defer src="../../../main.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../lightning/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../../lightning/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module peer_handler</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../lightning/index.html"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Module <a href="../../index.html">lightning</a>::<wbr><a href="../index.html">ln</a>::<wbr><a class="mod" href="#">peer_handler</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../src/lightning/ln/peer_handler.rs.html#10-2417">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Top level peer message handling and socket handling logic lives here.</p>
<p>Instead of actually servicing sockets ourselves we require that you implement the
SocketDescriptor interface and use that to receive actions which you should perform on the
socket, and call into PeerManager with bytes read from the socket. The PeerManager will then
call into the provided message handlers (probably a ChannelManager and P2PGossipSync) with
messages they should handle, and encoding/sending response messages.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ErroringMessageHandler.html" title="lightning::ln::peer_handler::ErroringMessageHandler struct">ErroringMessageHandler</a></div><div class="item-right docblock-short">A dummy struct which implements <code>ChannelMessageHandler</code> without having any channels.
You can provide one of these as the route_handler in a MessageHandler.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.IgnoringMessageHandler.html" title="lightning::ln::peer_handler::IgnoringMessageHandler struct">IgnoringMessageHandler</a></div><div class="item-right docblock-short">A dummy struct which implements <code>RoutingMessageHandler</code> without storing any routing information
or doing any processing. You can provide one of these as the route_handler in a MessageHandler.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MessageHandler.html" title="lightning::ln::peer_handler::MessageHandler struct">MessageHandler</a></div><div class="item-right docblock-short">Provides references to trait impls which handle different types of messages.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PeerHandleError.html" title="lightning::ln::peer_handler::PeerHandleError struct">PeerHandleError</a></div><div class="item-right docblock-short">Error for PeerManager errors. If you get one of these, you must disconnect the socket and
generate no further read_event/write_buffer_space_avail/socket_disconnected calls for the
descriptor.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PeerManager.html" title="lightning::ln::peer_handler::PeerManager struct">PeerManager</a></div><div class="item-right docblock-short">A PeerManager manages a set of peers, described by their <a href="trait.SocketDescriptor.html" title="SocketDescriptor"><code>SocketDescriptor</code></a> and marshalls
socket events into messages which it passes on to its <a href="struct.MessageHandler.html" title="MessageHandler"><code>MessageHandler</code></a>.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.CustomMessageHandler.html" title="lightning::ln::peer_handler::CustomMessageHandler trait">CustomMessageHandler</a></div><div class="item-right docblock-short">Handler for BOLT1-compliant messages.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.SocketDescriptor.html" title="lightning::ln::peer_handler::SocketDescriptor trait">SocketDescriptor</a></div><div class="item-right docblock-short">Provides an object which can be used to send data to and which uniquely identifies a connection
to a remote host. You will need to be able to generate multiple of these which meet Eq and
implement Hash to meet the PeerManager API.</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.SimpleArcPeerManager.html" title="lightning::ln::peer_handler::SimpleArcPeerManager type">SimpleArcPeerManager</a></div><div class="item-right docblock-short">SimpleArcPeerManager is useful when you need a PeerManager with a static lifetime, e.g.
when you’re using lightning-net-tokio (since tokio::spawn requires parameters with static
lifetimes). Other times you can afford a reference, which is more efficient, in which case
SimpleRefPeerManager is the more appropriate type. Defining these type aliases prevents
issues such as overly long function definitions.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.SimpleRefPeerManager.html" title="lightning::ln::peer_handler::SimpleRefPeerManager type">SimpleRefPeerManager</a></div><div class="item-right docblock-short">SimpleRefPeerManager is a type alias for a PeerManager reference, and is the reference
counterpart to the SimpleArcPeerManager type alias. Use this type by default when you don’t
need a PeerManager with a static lifetime. You’ll need a static lifetime in cases such as
usage of lightning-net-tokio (since tokio::spawn requires parameters with static lifetimes).
But if this is not necessary, using a reference is more efficient. Defining these type aliases
helps with issues such as long function definitions.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="lightning" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0 (897e37553 2022-11-02)" ></div></body></html>